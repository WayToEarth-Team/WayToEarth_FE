-- ============================================ -- WayToEarth Journey Data 일괄 입력 SQL -- ============================================ -- 작성일: 2025-01-07 -- 사용법: mysql -u user -p database < load-journeys.sql -- ============================================ -- 1. Journey 기본 정보 입력 INSERT INTO journeys ( name, description, total_distance_km, category, difficulty, estimated_duration_hours, thumbnail_url, created_at, updated_at ) VALUES -- 여정 1: 한국의 고궁탐방 ( '한국의 고궁탐방', '서울의 5대 궁궐과 역사 유적지를 탐방하는 역사 문화 여정. 조선시대부터 현대까지의 역사를 한눈에 볼 수 있습니다.', 12.5, 'DOMESTIC', 'EASY', 2.5, 'https://waytoearth-assets.s3.ap-northeast-2.amazonaws.com/journeys/palace-tour.jpg', NOW(), NOW() ), -- 여정 2: 한강 러닝 코스 ( '한강 러닝 코스', '여의도부터 반포까지 한강을 따라 달리는 상쾌한 러닝 코스. 강바람을 맞으며 시원한 러닝을 즐길 수 있습니다.', 10.0, 'DOMESTIC', 'EASY', 2.0, 'https://waytoearth-assets.s3.ap-northeast-2.amazonaws.com/journeys/hanriver-run.jpg', NOW(), NOW() ), -- 여정 3: 북한산 둘레길 1코스 ( '북한산 둘레길 1코스', '북한산을 완만하게 둘러보는 둘레길 1코스. 숲속 산책과 경치 감상을 동시에 즐길 수 있습니다.', 8.3, 'DOMESTIC', 'MEDIUM', 2.5, 'https://waytoearth-assets.s3.ap-northeast-2.amazonaws.com/journeys/bukhansan-trail.jpg', NOW(), NOW() ), -- 여정 4: 제주 올레 1코스 ( '제주 올레 1코스', '제주 올레길의 시작, 시흥초등학교부터 성산일출봉까지. 제주 바다를 끼고 걷는 힐링 코스입니다.', 15.1, 'DOMESTIC', 'MEDIUM', 4.0, 'https://waytoearth-assets.s3.ap-northeast-2.amazonaws.com/journeys/jeju-olle-1.jpg', NOW(), NOW() ), -- 여정 5: 경주 역사문화탐방 ( '경주 역사문화탐방', '천년 고도 경주의 역사 유적지를 둘러보는 문화 탐방 코스. 신라시대 유적들을 직접 체험할 수 있습니다.', 11.2, 'DOMESTIC', 'EASY', 3.0, 'https://waytoearth-assets.s3.ap-northeast-2.amazonaws.com/journeys/gyeongju-history.jpg', NOW(), NOW() ), -- 여정 6: 부산 해운대 해안길 ( '부산 해운대 해안길', '해운대에서 송정까지 부산의 아름다운 해안선을 따라 달리는 코스. 바다 풍경이 일품입니다.', 9.5, 'DOMESTIC', 'EASY', 2.0, 'https://waytoearth-assets.s3.ap-northeast-2.amazonaws.com/journeys/haeundae-coastal.jpg', NOW(), NOW() ); -- ============================================ -- 2. Journey Routes 입력 (CSV 로드) -- ============================================ -- 방법 1: LOAD DATA INFILE 사용 (권장) -- 주의: 파일 경로는 실제 경로로 수정 필요 -- 주의: MySQL 설정에서 local_infile=1 필요 -- 여정 1: 고궁탐방 LOAD DATA LOCAL INFILE 'journey-data/01-palace-tour.csv' INTO TABLE journey_routes FIELDS TERMINATED BY ',' ENCLOSED BY '"' LINES TERMINATED BY '
' IGNORE 1 ROWS (journey_id, latitude, longitude, sequence, altitude, description) SET created_at = NOW(), updated_at = NOW(); -- 여정 2: 한강 러닝 LOAD DATA LOCAL INFILE 'journey-data/02-hanriver-run.csv' INTO TABLE journey_routes FIELDS TERMINATED BY ',' ENCLOSED BY '"' LINES TERMINATED BY '
' IGNORE 1 ROWS (journey_id, latitude, longitude, sequence, altitude, description) SET created_at = NOW(), updated_at = NOW(); -- 나머지 여정들도 동일하게... -- LOAD DATA LOCAL INFILE 'journey-data/03-bukhansan-trail.csv' ... -- LOAD DATA LOCAL INFILE 'journey-data/04-jeju-olle-1.csv' ... -- LOAD DATA LOCAL INFILE 'journey-data/05-gyeongju-history.csv' ... -- LOAD DATA LOCAL INFILE 'journey-data/06-haeundae-coastal.csv' ... -- ============================================ -- 3. Landmarks 입력 (CSV 로드) -- ============================================ -- 여정 1: 고궁탐방 랜드마크 LOAD DATA LOCAL INFILE 'journey-data/01-palace-tour-landmarks.csv' INTO TABLE landmarks FIELDS TERMINATED BY ',' ENCLOSED BY '"' LINES TERMINATED BY '
' IGNORE 1 ROWS (journey_id, name, latitude, longitude, distance_from_start_m, description, image_url) SET created_at = NOW(), updated_at = NOW(); -- 여정 2: 한강 러닝 랜드마크 LOAD DATA LOCAL INFILE 'journey-data/02-hanriver-run-landmarks.csv' INTO TABLE landmarks FIELDS TERMINATED BY ',' ENCLOSED BY '"' LINES TERMINATED BY '
' IGNORE 1 ROWS (journey_id, name, latitude, longitude, distance_from_start_m, description, image_url) SET created_at = NOW(), updated_at = NOW(); -- 나머지 랜드마크들도 동일하게... -- ============================================ -- 4. 데이터 검증 -- ============================================ -- Journey 개수 확인 SELECT COUNT(*) as journey_count FROM journeys; -- 각 Journey별 경로 포인트 개수 SELECT j.id, j.name, COUNT(jr.id) as route_points, COUNT(l.id) as landmarks FROM journeys j LEFT JOIN journey_routes jr ON j.id = jr.journey_id LEFT JOIN landmarks l ON j.id = l.journey_id GROUP BY j.id, j.name ORDER BY j.id; -- sequence 검증 (빠진 번호 확인) SELECT jr1.journey_id, jr1.sequence + 1 as missing_sequence FROM journey_routes jr1 LEFT JOIN journey_routes jr2 ON jr1.journey_id = jr2.journey_id AND jr1.sequence + 1 = jr2.sequence WHERE jr2.sequence IS NULL AND jr1.sequence < ( SELECT MAX(sequence) FROM journey_routes WHERE journey_id = jr1.journey_id ); -- 좌표 범위 검증 SELECT COUNT(*) as invalid_coordinates FROM journey_routes WHERE latitude < -90 OR latitude > 90 OR longitude < -180 OR longitude > 180; -- ============================================ -- 완료! -- ============================================ -- ============================================ -- 국제 여정 추가 (ID: 101, 102) -- ============================================ -- ============================================ -- 1. 파리 투어 (ID: 101) -- ============================================ -- 여정 추가 INSERT INTO journeys ( id, title, description, thumbnail_url, total_distance_km, difficulty, category, estimated_days, is_active, created_at, updated_at ) VALUES ( 101, '파리 낭만 투어', '에펠탑부터 샹젤리제까지, 파리의 아름다운 명소를 달리며 프랑스 문화를 체험하는 여정', 'https://waytoearth-assets.s3.ap-northeast-2.amazonaws.com/journeys/101/thumbnail.jpg', 12.5, 'MEDIUM', 'INTERNATIONAL', 7, true, NOW(), NOW() ); -- 랜드마크 추가 INSERT INTO landmarks ( journey_id, name, description, latitude, longitude, distance_from_start, order_index, country_code, city_name, image_url, created_at, updated_at ) VALUES (101, '에펠탑', '파리의 상징이자 프랑스를 대표하는 철탑. 1889년 파리 만국박람회를 기념하여 건설되었으며, 높이 324m로 밤이 되면 황금빛 조명이 파리의 밤하늘을 수놓습니다.', 48.8584, 2.2945, 0.0, 1, 'FR', 'Paris', 'https://waytoearth-assets.s3.ap-northeast-2.amazonaws.com/journeys/101/landmarks/eiffel-tower.jpg', NOW(), NOW()), (101, '트로카데로 광장', '에펠탑을 가장 아름답게 조망할 수 있는 명소. 넓은 광장과 분수가 있어 에펠탑과 함께 완벽한 사진을 남길 수 있습니다.', 48.8620, 2.2876, 0.8, 2, 'FR', 'Paris', 'https://waytoearth-assets.s3.ap-northeast-2.amazonaws.com/journeys/101/landmarks/trocadero.jpg', NOW(), NOW()), (101, '루브르 박물관', '세계 3대 박물관 중 하나. 레오나르도 다 빈치의 모나리자를 비롯해 38만 점 이상의 소장품을 자랑하는 예술의 보고입니다.', 48.8606, 2.3376, 4.0, 3, 'FR', 'Paris', 'https://waytoearth-assets.s3.ap-northeast-2.amazonaws.com/journeys/101/landmarks/louvre.jpg', NOW(), NOW()), (101, '튈르리 정원', '루브르 박물관과 콩코드 광장 사이의 아름다운 정원. 파리 시민들의 휴식처이자 조각품과 분수가 어우러진 프랑스식 정원의 정수를 보여줍니다.', 48.8634, 2.3273, 5.2, 4, 'FR', 'Paris', 'https://waytoearth-assets.s3.ap-northeast-2.amazonaws.com/journeys/101/landmarks/tuileries.jpg', NOW(), NOW()), (101, '콩코드 광장', '파리에서 두 번째로 큰 광장. 중앙에 3300년 된 이집트 오벨리스크가 서 있으며, 프랑스 혁명의 역사적 장소입니다.', 48.8656, 2.3212, 6.5, 5, 'FR', 'Paris', 'https://waytoearth-assets.s3.ap-northeast-2.amazonaws.com/journeys/101/landmarks/concorde.jpg', NOW(), NOW()), (101, '샹젤리제 거리', '세계에서 가장 아름다운 거리로 불리는 파리의 대표 거리. 명품 부티크와 카페들이 즐비하며, 개선문까지 이어지는 2km의 낭만적인 산책로입니다.', 48.8698, 2.3078, 8.7, 6, 'FR', 'Paris', 'https://waytoearth-assets.s3.ap-northeast-2.amazonaws.com/journeys/101/landmarks/champs-elysees.jpg', NOW(), NOW()), (101, '개선문', '나폴레옹이 아우스터리츠 전투의 승리를 기념하기 위해 세운 50m 높이의 기념비. 샹젤리제 거리의 끝에 위치하며, 파리 12개 대로가 모이는 중심점입니다.', 48.8738, 2.2950, 12.5, 7, 'FR', 'Paris', 'https://waytoearth-assets.s3.ap-northeast-2.amazonaws.com/journeys/101/landmarks/arc-de-triomphe.jpg', NOW(), NOW()); -- 경로 추가 (간략 버전 - 주요 포인트만) INSERT INTO journey_routes ( journey_id, latitude, longitude, sequence, altitude, description, created_at, updated_at ) VALUES (101, 48.8584, 2.2945, 1, 35, '에펠탑 시작', NOW(), NOW()), (101, 48.8620, 2.2876, 2, 68, '트로카데로 광장', NOW(), NOW()), (101, 48.8606, 2.3376, 3, 40, '루브르 박물관', NOW(), NOW()), (101, 48.8634, 2.3273, 4, 43, '튈르리 정원', NOW(), NOW()), (101, 48.8656, 2.3212, 5, 46, '콩코드 광장', NOW(), NOW()), (101, 48.8698, 2.3078, 6, 52, '샹젤리제 거리', NOW(), NOW()), (101, 48.8738, 2.2950, 7, 60, '개선문 종료', NOW(), NOW()); -- ============================================ -- 2. 도쿄 투어 (ID: 102) -- ============================================ INSERT INTO journeys ( id, title, description, thumbnail_url, total_distance_km, difficulty, category, estimated_days, is_active, created_at, updated_at ) VALUES ( 102, '도쿄 명소 순례', '도쿄타워부터 센소지까지, 전통과 현대가 공존하는 도쿄의 매력을 느끼는 여정', 'https://waytoearth-assets.s3.ap-northeast-2.amazonaws.com/journeys/102/thumbnail.jpg', 17.0, 'HARD', 'INTERNATIONAL', 10, true, NOW(), NOW() ); INSERT INTO landmarks ( journey_id, name, description, latitude, longitude, distance_from_start, order_index, country_code, city_name, image_url, created_at, updated_at ) VALUES (102, '도쿄타워', '1958년에 세워진 333m 높이의 도쿄 상징물. 에펠탑을 모델로 건설되었으며, 전망대에서 도쿄 전경과 날씨가 좋으면 후지산까지 볼 수 있습니다.', 35.6586, 139.7454, 0.0, 1, 'JP', 'Tokyo', 'https://waytoearth-assets.s3.ap-northeast-2.amazonaws.com/journeys/102/landmarks/tokyo-tower.jpg', NOW(), NOW()), (102, '메이지신궁', '메이지 천황과 쇼켄 황태후를 모시는 신사. 70만 평방미터의 숲으로 둘러싸여 있어 도심 속 자연을 느낄 수 있는 일본의 대표적인 신사입니다.', 35.6764, 139.6993, 4.2, 2, 'JP', 'Tokyo', 'https://waytoearth-assets.s3.ap-northeast-2.amazonaws.com/journeys/102/landmarks/meiji-shrine.jpg', NOW(), NOW()), (102, '하라주쿠', '젊음과 패션의 거리. 다케시타 거리를 중심으로 독특한 패션과 문화가 공존하며, 전통 신사와 현대 문화가 어우러진 독특한 매력의 동네입니다.', 35.6702, 139.7028, 5.5, 3, 'JP', 'Tokyo', 'https://waytoearth-assets.s3.ap-northeast-2.amazonaws.com/journeys/102/landmarks/harajuku.jpg', NOW(), NOW()), (102, '시부야', '세계에서 가장 붐비는 횡단보도가 있는 곳. 충견 하치코 동상이 있으며, 젊은이들의 문화와 쇼핑의 중심지로 도쿄의 활기를 가장 잘 느낄 수 있습니다.', 35.6595, 139.7004, 7.0, 4, 'JP', 'Tokyo', 'https://waytoearth-assets.s3.ap-northeast-2.amazonaws.com/journeys/102/landmarks/shibuya.jpg', NOW(), NOW()), (102, '우에노 공원', '도쿄 최대의 도시 공원. 벚꽃 명소로 유명하며, 우에노 동물원, 국립박물관 등 문화시설이 모여 있어 도쿄 시민들의 사랑받는 휴식처입니다.', 35.7148, 139.7737, 13.5, 5, 'JP', 'Tokyo', 'https://waytoearth-assets.s3.ap-northeast-2.amazonaws.com/journeys/102/landmarks/ueno-park.jpg', NOW(), NOW()), (102, '센소지', '도쿄에서 가장 오래된 사찰(628년 창건). 가미나리몬의 거대한 등롱과 나카미세 상점가의 전통 상점들이 에도시대의 분위기를 간직하고 있습니다.', 35.7148, 139.7967, 17.0, 6, 'JP', 'Tokyo', 'https://waytoearth-assets.s3.ap-northeast-2.amazonaws.com/journeys/102/landmarks/sensoji.jpg', NOW(), NOW()); INSERT INTO journey_routes ( journey_id, latitude, longitude, sequence, altitude, description, created_at, updated_at ) VALUES (102, 35.6586, 139.7454, 1, 15, '도쿄타워 시작', NOW(), NOW()), (102, 35.6764, 139.6993, 2, 35, '메이지신궁', NOW(), NOW()), (102, 35.6702, 139.7028, 3, 28, '하라주쿠', NOW(), NOW()), (102, 35.6595, 139.7004, 4, 23, '시부야', NOW(), NOW()), (102, 35.7148, 139.7737, 5, 42, '우에노 공원', NOW(), NOW()), (102, 35.7148, 139.7967, 6, 33, '센소지 종료', NOW(), NOW());